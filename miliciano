#include <stdio.h>
#include <stdlib.h>
#include <string.h>
typedef struct carreira{
int reg; // registro da patente
int qmilitar; // quantidade de militares daquela patente
char org[20]; // organiza o - exemplo: ex rcito, aeron utica, marinha�� � �
char patente[20]; // exemplo: soldado, cabo, sargento
float salario; // valor do sal rio�
}carreira;
typedef struct militar{
char CPF[13]; // CPF do militar
char nome[20]; // nome do militar
int numreg; // n mero do registro da carreira�
}militar;
void aloca_carreira(carreira **c,int qc);
void cadastro_carreira(carreira *c,int qc);
void mostra_carreira(carreira *c,int qc);
void maiuscula(char *p);
main()
{
carreira *pc=NULL;
militar *pm=NULL;
aloca_carreira(&pc,5);
cadastro_carreira(pc,5);
mostra_carreira(pc,5);
}//main
void aloca_carreira(carreira **c,int qc)
{
if((*c=(carreira*)realloc(*c,qc*sizeof(carreira)))==NULL)
exit(1);
}//aloca_carreira
void cadastro_carreira(carreira *c,int qc)
{
int i;
for(i=0;i<qc;i++,c++)
{
c->reg=i+1;
c->qmilitar=0;
printf("\nOrganizacao\nExercito\tAeronautica\tMarinha: ");
gets(c->org);
fflush(stdin);
maiuscula(c->org);
printf("\nPatente: ");
gets(c->patente);
fflush(stdin);
maiuscula(c->patente);
printf("\nSalario: ");
scanf("%f",&(c->salario));
fflush(stdin);
}//for
}//cadastro_carreira
void mostra_carreira(carreira *c,int qc)
{
int i;
for(i=0;i<qc;i++,c++)
printf("\nRegistro: %i\nQtde Militar: %i\nOrganizacao: %s\nPatente: %s\nSalario:
%.2f\n\n",c->reg,c->qmilitar,c->org,c->patente,c->salario);
system("pause");
}//mostra_carreira
void maiuscula(char *p)
{
int tam,i;
tam=strlen(p);
for(i=0;i<tam;i++,p++)
if(*p>='a' && *p<='z')
*p-=32;
}//maiuscula
